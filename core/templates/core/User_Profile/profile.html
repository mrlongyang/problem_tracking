{% extends "core/base.html" %}
{% load static %}
{% block content %}
<div class="card mb-4">
  <div class="card-body d-flex align-items-center">
    <img src="{% static 'images/apb.jpg' %}" alt="Avatar" class="rounded-circle me-3" style="width: 80px;">
    <div>
      <h3>{{ request.user.name }}</h3>
      <p><strong>Email:</strong> {{ request.user.email }}</p>
      <p><strong>Group:</strong> {{ request.user.user_group.usergroup_name|default:"—" }}</p>
      <p><strong>Role:</strong> {{ request.user.role.name|default:"—" }}</p>
      <p><strong>Department:</strong> {{ request.user.department.department_name|default:"—" }}</p>
    </div>
  </div>
</div>

<h4>Your Problems</h4>
<ul class="list-group">
  {% for prob in request.user.problem_set.all %}
    <li class="list-group-item">
      <a href="{% url 'problem_detail' prob.problem_id %}">{{ prob.title }}</a>
      <span class="badge bg-secondary float-end">{{ prob.status }}</span>
    </li>
  {% empty %}
    <li class="list-group-item">No problems submitted.</li>
  {% endfor %}
</ul>

{% endblock %}
